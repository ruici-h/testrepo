kind: ConfigMap
apiVersion: v1
metadata:
  name: cluster-useable-capacity
  namespace: open-cluster-management-observability
  labels:
    grafana-custom-dashboard: "true"
data:
  cluster-useable-capacity.json: |
    {"graphTooltip": 0, "style": "dark", "templating": {"list": [{"regex": "", "definition": "label_values(kube_pod_info{clusterType!=\"ocp3\"},cluster)", "multi": false, "hide": 0, "description": null, "allValue": null, "skipUrlSync": false, "refresh": 2, "label": null, "current": {"text": "local-cluster", "selected": true, "value": "local-cluster"}, "sort": 1, "datasource": null, "error": null, "query": {"query": "label_values(kube_pod_info{clusterType!=\"ocp3\"},cluster)", "refId": "StandardVariableQuery"}, "includeAll": false, "type": "query", "options": [], "name": "Cluster"}]}, "links": [], "tags": [], "editable": true, "title": "Cluster Useable Capacity", "iteration": 1658927082346, "refresh": "", "id": 26, "gnetId": null, "timepicker": {}, "version": 18, "time": {"to": "now", "from": "now-6h"}, "timezone": "utc", "schemaVersion": 30, "panels": [{"bars": false, "timeFrom": null, "links": [], "hiddenSeries": false, "thresholds": [], "spaceLength": 10, "nullPointMode": "null", "pluginVersion": "8.1.3", "renderer": "flot", "gridPos": {"y": 0, "h": 10, "w": 8, "x": 0}, "linewidth": 1, "steppedLine": false, "targets": [{"hide": false, "format": "time_series", "expr": "sum(kube_pod_resource_request{cluster=\"$Cluster\",resource=\"cpu\"})", "interval": "", "step": 240, "exemplar": true, "legendFormat": "requests used", "intervalFactor": 2, "refId": "A"}, {"hide": false, "expr": "sum(kube_node_status_allocatable{cluster=\"$Cluster\", resource=\"cpu\"})", "interval": "", "exemplar": true, "legendFormat": "requests available", "refId": "B"}], "fill": 2, "title": "Total CPU requests used vs available", "tooltip": {"sort": 0, "shared": true, "value_type": "individual"}, "id": 20, "points": false, "xaxis": {"buckets": null, "values": [], "mode": "time", "name": null, "show": true}, "seriesOverrides": [], "percentage": false, "type": "graph", "dashes": false, "dashLength": 10, "stack": false, "fieldConfig": {"overrides": [], "defaults": {"links": []}}, "yaxis": {"align": false, "alignLevel": null}, "timeShift": null, "aliasColors": {"Total": "#511749", "VmallocUsed": "#EA6460", "Cached": "#511749", "Cache": "#6D1F62", "Free": "#B7DBAB", "Committed": "#508642", "Swap_Cache": "#C15C17", "Active": "#99440A", "Inactive": "#EA6460", "PageTables": "#0A50A1", "Dirty": "#6ED0E0", "Total RAM + Swap": "#052B51", "Mapped": "#052B51", "Page_Tables": "#0A50A1", "Total Swap": "#614D93", "Total RAM": "#052B51", "Slab_Cache": "#EAB839", "Buffers": "#58140C", "Swap": "#BF1B00"}, "lines": true, "legend": {"rightSide": false, "avg": true, "sideWidth": null, "show": true, "max": true, "min": true, "current": true, "values": true, "alignAsTable": true, "total": false}, "yaxes": [{"logBase": 1, "$$hashKey": "object:5373", "format": "short", "max": null, "min": "0", "label": "counter", "show": true}, {"logBase": 1, "$$hashKey": "object:5374", "format": "short", "max": null, "min": null, "label": null, "show": false}], "datasource": null, "pointradius": 5, "maxPerRow": 6, "timeRegions": [], "decimals": 2, "options": {"alertThreshold": true}, "fillGradient": 0}], "annotations": {"list": [{"enable": true, "hide": true, "target": {"limit": 100, "matchAny": false, "type": "dashboard", "tags": []}, "iconColor": "rgba(0, 211, 255, 1)", "builtIn": 1, "datasource": "-- Grafana --", "type": "dashboard", "name": "Annotations & Alerts"}]}}
